<div class="app-container">
  
  <h1 class="app-title">
    {{ title() }}
  </h1>

  <section class="app-section" #commentFormSection>
    <app-comment-form 
      [parentCommentId]="replyingToId()"
      (commentAdded)="onCommentAdded()"
      (cancelReply)="onReplyTo(null)">
    </app-comment-form>
  </section>

  <section class="app-section">
    <app-comment-list 
      [allComments]="comments()"
      [replyingToId]="replyingToId()"
      (replyTo)="onReplyTo($event)">
    </app-comment-list>
  </section>

  <section class="pagination">
    <button 
      (click)="loadComments(currentPage() - 1)" 
      [disabled]="currentPage() === 1">
      « Previous
    </button>

    <ng-container *ngFor="let page of totalPagesArray()">
      <button 
        [class.active]="page === currentPage()" 
        (click)="loadComments(page)">
        {{ page }}
      </button>
    </ng-container>

    <button 
      (click)="loadComments(currentPage() + 1)" 
      [disabled]="currentPage() === totalPages()">
      Next »
    </button>
  </section>
</div>
